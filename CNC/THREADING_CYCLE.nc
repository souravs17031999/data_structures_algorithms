%
O32123 (NC Viewer Demo File)
G21 G98
G28 U0 W0
M06 T0101 
M03 S2500
G00 X32.5 Z5
G76 P040060 Q50 R0.04   / P CONTAINS THREE PARAMETERS M - NOOFPASSES , R TOOLRELEIFANGLE, A THREADANGLE(60) , Q MINIMUMCUTTINGDEPTH (MICRON), R FINISHINGALLOWANCE
G76 X30.162 Z-14 P919 Q100 F1.5 / X_CORE_DIAMETER = MAJOR DIA (GIVEN) - 2*P, P IS THREADHEIGHT = 0.613 * PITCH (GIVEN) (MICRON) , Q IS DEPTH_OFCUT_FIRSTPASS (MICRON), Z THREAD LENGTH, F FEED RATE
G28 U0 W0
M05
M30
%

/MAJOR DIA AND PITCH WILL BE GIEVN LIKE M32 X 1.5 mm
/ WE NEED TO CALC CORE DIA (X) AND THREAD HEIGHT (P).